<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <link rel="stylesheet" href="/css/all.css">
    <script src="/js/admin/bootstrap.min.js"></script>
    <script src="/js/admin/jquery.min.js"></script>
    <link rel="icon" href="/img/admin/black_icon.png" type="image/gif" sizes="16x16">
    <title>f.pop 後台管理</title>
    <style>
        .fp-item>li>span {
            padding: 15px;
        }
    </style>
</head>

<body id="page-top">
    <%- include("admin_navbar.ejs") %>
        <!-- Main Content -->
        <div class="fpop-main p-5">

            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/admin/goods">首頁</a></li>
                    <li class="breadcrumb-item"><a href="#">商品管理</a></li>
                    <li class="breadcrumb-item active" aria-current="page">所有商品</li>
                </ol>
            </nav>
            <h2>我是所有商品</h2>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <button class="btn btn-outline-secondary" type="button">搜尋類別</button>
                </div>
                <select class="custom-select light-table-filter "  aria-label="Example select with button addon" data-table="order-table">
                  <option ></option>
                  <option >shirts</option>
                  <option >pants</option>
                  <option >shoes</option>
                  <option >bags</option>
                  <option >上衣</option>
                  <option >洋裝與裙子</option>
                </select>
              </div>

            <table class="table table-hover order-table">
                <thead>
                    <th>編號</th>
                    <th>產品名稱</th>
                    <th>類別</th>
                    <th>圖片</th>
                    <th>尺寸</th>
                    <th>敘述</th>
                    <th>價格</th>
                </thead>
                <tbody>
                    <% data.forEach((item ,index)=> { %>
                        <tr>
                            <td>
                                <%= item.product_id %>
                            </td>
                            <td>
                                <%= item.product_name%>
                            </td>
                            <td><img style="height: 50px;" src="/img/product/<%= item.product_image %>" alt=""></td>
                            <td>
                                <%= item.product_category %>
                            </td>
                            <td>
                                <%= item.product_gender %>
                            </td>
                            <td>
                                <%= item.product_description %>
                            </td>
                            <td>
                                <%= item.product_price %> $
                            </td>

                        </tr>
                        <% }) %>
                </tbody>
            </table>
                <script>
                    (function (document) {
                        'use strict';

                        // 建立 LightTableFilter
                        var LightTableFilter = (function (Arr) {

                            var _input;

                            // 資料輸入事件處理函數
                            function _onInputEvent(e) {
                                _input = e.target;
                                var tables = document.getElementsByClassName(_input.getAttribute('data-table'));
                                Arr.forEach.call(tables, function (table) {
                                    Arr.forEach.call(table.tBodies, function (tbody) {
                                        Arr.forEach.call(tbody.rows, _filter);
                                    });
                                });
                            }

                            // 資料篩選函數，顯示包含關鍵字的列，其餘隱藏
                            function _filter(row) {
                                var text = row.textContent.toLowerCase(), val = _input.value.toLowerCase();
                                row.style.display = text.indexOf(val) === -1 ? 'none' : 'table-row';
                            }

                            return {
                                // 初始化函數
                                init: function () {
                                    var inputs = document.getElementsByClassName('light-table-filter');
                                    Arr.forEach.call(inputs, function (input) {
                                        input.oninput = _onInputEvent;
                                    });
                                }
                            };
                        })(Array.prototype);

                        // 網頁載入完成後，啟動 LightTableFilter
                        document.addEventListener('readystatechange', function () {
                            if (document.readyState === 'complete') {
                                LightTableFilter.init();
                            }
                        });

                    })(document);
                    </script>
        </div>
        <!-- Main Content end-->

        <!-- Right page end -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>